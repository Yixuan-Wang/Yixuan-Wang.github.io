@import url(./preflight-manual.css);

html {
  height: 100%;
  width: 100%;

  margin: 0;
  padding: 0;

  overflow-x: hidden;
  overflow-y: auto;
  overflow-y: overlay;

  font-size: 1rem;
  line-height: 1.5rem;
}

body {
  margin: 0;
  padding: 0 1em;

  min-height: 100vh;
  min-height: -webkit-fill-available;
  min-height: 100dvh;
}

body > * {
  max-width: 65ch;
  margin: auto;
}

#app {
  display: grid;
  grid-template-columns: 100%;
  grid-template-rows: auto 1fr auto;
  gap: 2rem;

  min-height: 100vh;
  min-height: -webkit-fill-available;
  min-height: 100dvh;
}

body.cloak {
  display: none;
}

#the-header {
  padding-top: 1rem;
}

#the-footer {
  padding-bottom: 1rem;
}

#the-header,
#the-footer {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
}

#the-header>*,
#the-footer>* {
  display: flex;
  flex-direction: row;
  justify-content: space-around;
}

#the-bottom-sheet {
  position: absolute;
  bottom: 0;
  width: 100%;
}

:root {
  --font-sans: var(--font-custom-sans, "Inter", "Noto Sans CJK SC"), "SF Pro", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Avenir Next", "Helvetica Neue", sans-serif;
  --font-serif: var(--font-custom-serif, "Source Serif 4", "Noto Serif CJK SC"), "New York", "Roboto Slab", Cambria, Georgia, Times, "Times New Roman", serif;
  --font-mono: var(--font-custom-mono, "JetBrains Mono", "Noto Sans CJK SC"), DengXian, "SF Mono", "Droid Sans Mono", Menlo, "Cascadia Code", Consolas, Courier, "Courier New", monospace;
}

:root:not(.dark) {
  --color-one: var(--ca, var(--color-muted));
  --color-one-front: var(--cb, var(--color-front));
  --color-one-back: var(--cc, var(--color-back));
  --color-two: var(--cd, var(--color-muted));
  --color-two-front: var(--ce, var(--color-front));
  --color-two-back: var(--cf, var(--color-back));
  --color-blend-intensity: 5%;
}

:root.dark {
  --color-one: var(--ca, var(--color-muted));
  --color-one-front: var(--cb, var(--color-front));
  --color-one-back: var(--cc, var(--color-back));
  --color-two: var(--cd, var(--color-muted));
  --color-two-front: var(--ce, var(--color-front));
  --color-two-back: var(--cf, var(--color-back));
  --color-blend-intensity: 15%;
}

html {
  background: color-mix(in oklab, rgb(var(--color-back)), rgb(var(--color-one)) var(--color-blend-intensity));
  color: rgb(var(--color-front), 100%);
}

html.dark {
  --color-back: 38, 38, 38;
  /* neutral-800 */
  --color-front: 212, 212, 212;
  /* neutral-300 */
  --color-muted: 115, 115, 115;
  /* neutral-500 */
}

html:not(.dark) {
  --color-back: 245, 245, 245;
  /* neutral-100 */
  --color-front: 23, 23, 23;
  /* neutral-900 */
  --color-muted: 163, 163, 163;
  /* neutral-400 */
}

body {
  font-family: var(--font-sans);
}

input {
  @apply ring-2 ring-one focus:(ring-two outline-none) lh-6 rounded py-1 px-2 bg-transparent;
}

::selection {
  background-color: rgb(var(--color-one-back), 60%);
  color: rgb(var(--color-one-front));
}

::-webkit-scrollbar {
  height: 4px;
  width: 4px;
  background-color: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(var(--color-one));
  border: solid rgba(var(--color-one)) 1px;
  border-radius: 2px;
}

::-webkit-scrollbar-thumb:active {
  background-color: rgba(var(--color-two));
  border-color: rgba(var(--color-two));
}

.hover-component-container {
  @apply relative inline-flex justify-center;
}

.hover-component-handle {
  @apply contents;
}

.hover-component-content {
  @apply absolute hidden w-max bottom-[calc(100%+0.5rem)] animate-fade-in animate-duration-150;
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* .shiki {
  --shiki-color-var-foreground: #4c4f69;
  --shiki-color-var-background: #eff1f5;
  --shiki-color-var-builtin: #d20f39;
  --shiki-color-var-constant: #fe640b;
  --shiki-color-var-string: #40a02b;
  --shiki-color-var-comment: #9ca0b0;
  --shiki-color-var-keyword: #8839ef;
  --shiki-color-var-parameter: #e64553;
  --shiki-color-var-function: #1e66f5;
  --shiki-color-var-escape: #ea76cb;
  --shiki-color-var-punctuation: #7c7f93;
  --shiki-color-var-type: #df8e1d;
  --shiki-color-var-macro: #179299;
  --shiki-color-var-generic: #04a5e5;
}

:root.dark .shiki {
  --shiki-color-var-foreground: #dcdfe4;
  --shiki-color-var-background: #282c34;
  --shiki-color-var-builtin: #e05561;
  --shiki-color-var-constant: #f0a45d;
  --shiki-color-var-string: #98c379;
  --shiki-color-var-comment: #7f848e;
  --shiki-color-var-keyword: #c678dd;
  --shiki-color-var-parameter: #ff616e;
  --shiki-color-var-function: #4aa5f0;
  --shiki-color-var-escape: #de73ff;
  --shiki-color-var-punctuation: #abb2bf;
  --shiki-color-var-type: #e5c07b;
  --shiki-color-var-macro: #42b3c2;
  --shiki-color-var-generic: #d19a66;
} */

.shiki {
  --shiki-color-var-foreground: rgb(var(--color-front));
  --shiki-color-var-background: color-mix(in oklab, white, rgb(var(--color-one)) 15%);
  --shiki-color-var-builtin: color-mix(in oklab, #d20f39, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-constant: color-mix(in oklab, #fe640b, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-string: color-mix(in oklab, #40a02b, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-comment: color-mix(in oklab, #9ca0b0, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-keyword: color-mix(in oklab, #8839ef, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-parameter: color-mix(in oklab, #e64553, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-function: color-mix(in oklab, #1e66f5, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-escape: color-mix(in oklab, #ea76cb, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-punctuation: color-mix(in oklab, #7c7f93, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-type: color-mix(in oklab, #df8e1d, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-macro: color-mix(in oklab, #179299, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-generic: color-mix(in oklab, #04a5e5, rgb(var(--color-one-front)) 60%);
}

:root.dark .shiki {
  --shiki-color-var-background: color-mix(in oklab, black, rgb(var(--color-one)) 25%);
  --shiki-color-var-builtin: color-mix(in oklab, #e05561, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-constant: color-mix(in oklab, #f0a45d, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-string: color-mix(in oklab, #98c379, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-comment: color-mix(in oklab, #7f848e, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-keyword: color-mix(in oklab, #c678dd, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-parameter: color-mix(in oklab, #ff616e, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-function: color-mix(in oklab, #4aa5f0, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-escape: color-mix(in oklab, #de73ff, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-punctuation: color-mix(in oklab, #abb2bf, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-type: color-mix(in oklab, #e5c07b, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-macro: color-mix(in oklab, #42b3c2, rgb(var(--color-one-front)) 60%);
  --shiki-color-var-generic: color-mix(in oklab, #d19a66, rgb(var(--color-one-front)) 60%);
}
