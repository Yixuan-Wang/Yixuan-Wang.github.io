import{_ as l}from"./TheArticle.53e6153c.js";import{o as p,f as o}from"./app.7819cb04.js";const y="\u4E8C\u53C9\u641C\u7D22\u6811\u7684\u5220\u9664\u7ED3\u70B9\u64CD\u4F5C",B="2020-09-18T02:48:00.000Z",m="comp",h=["dsa"],F=["bst"],f=!0,g={setup(t,{expose:a}){const s={title:"\u4E8C\u53C9\u641C\u7D22\u6811\u7684\u5220\u9664\u7ED3\u70B9\u64CD\u4F5C",date:"2020-09-18T02:48:00.000Z",category:"comp",tags:["dsa"],keywords:["bst"],math:!0};return a({frontmatter:s}),(e,c)=>{const n=l;return p(),o(n,{frontmatter:s,inner:`<div><p>\u4E8C\u53C9\u641C\u7D22\u6811\u5220\u9664\u7ED3\u70B9\u7684\u64CD\u4F5C\u5B9E\u9645\u4E0A\u662F\u4E00\u79CD\u65CB\u8F6C\u3002</p>
<!-- more -->
  <div style="text-align:center;">
  <strong><del>\u751F\u6D3B\u5728\u4E8C\u53C9\u6811\u4E0A</del></strong> <br/>
  P\u5E02\u4E00\u8FA3\u9E21
  </div>
<p>\u7528\u4E8C\u53C9\u6811\u7684\u6570\u636E\u7ED3\u6784\u4F53\u73B0\u5B58\u53D6\u589E\u51CF\u6700\u4F18\u90FD\u80FD\u8FBE\u5230<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>\u2061</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>\u7684\u8D85\u8D8A\u6027\uFF0C\u4FDD\u6301\u5A5E\u76F4\u5374\u53C8\u4E0D\u62D8\u6CE5\u4E8E\u6240\u8C13\u201C\u987A\u5E8F\u8868\u4E8C\u5206\u67E5\u627E\u201D\u7684\u5355\u5411\u5EA6\u5F62\u8C61\u3002\u8FD9\u4FBF\u662F\u4E8C\u53C9\u641C\u7D22\u6811\u4E3A\u6211\u4EEC\u63D0\u4F9B\u7684\u7406\u60F3\u671F\u671B\u6570\u636E\u7ED3\u6784\u8303\u5F0F\u3002<s>\u751F\u6D3B\u5728\u4E8C\u53C9\u6811\u4E0A\u2014\u2014\u59CB\u7EC8\u70ED\u7231\u5168\u5E8F\u2014\u2014\u5347\u4E0A\u6839\u7ED3\u70B9</s>\u3002</p>
<h2 id="\u4E8C\u53C9\u641C\u7D22\u6811" tabindex="-1">\u4E8C\u53C9\u641C\u7D22\u6811</h2>
<p>\u56DE\u5F52\u6B63\u9898\u3002\u6570\u636E\u7ED3\u6784\u4E0E\u7B97\u6CD5 B \u8BFE\u7A0B\u671F\u672B\u8003\u8BD5\u8003\u5230\u4E86\u4E8C\u53C9\u641C\u7D22\u6811\u5220\u9664\u7ED3\u70B9\uFF0C\u81EA\u89C9\u7B54\u5F97\u4E0D\u591F\u6E05\u6670\u5B8C\u6574\uFF0C\u8FD9\u91CC\u8865\u5145\u4E0A\uFF0C\u7B97\u662F\u586B\u8865\u4E00\u4E0B\u9057\u61BE\u3002</p>
<p>\u4E8C\u53C9\u641C\u7D22\u6811\u662F<strong>\u4E2D\u5E8F\u904D\u5386\u6743\u503C\u5E8F\u5217\u5355\u8C03\u4E0D\u964D</strong>\uFF08\u6216\u4E0D\u589E\uFF09\u7684\u4E8C\u53C9\u6811\u3002\u4EFB\u610F\u4E00\u4E2A\u7ED3\u70B9\uFF0C\u5DE6\u5B50\u7684\u6743\u503C\uFF08\u82E5\u5B58\u5728\uFF0C\u4E0B\u540C\uFF09\u5C0F\u4E8E\u7B49\u4E8E\u5B83\uFF0C\u53F3\u5B50\u7684\u6743\u503C\u5927\u4E8E\u7B49\u4E8E\u5B83\uFF08\u53CD\u8FC7\u6765\u5F53\u7136\u4E5F\u53EF\u4EE5\uFF09\u3002\u800C\u4E8C\u53C9\u5806\u5219\u662F\u4EFB\u610F\u4E00\u4E2A\u7ED3\u70B9\uFF0C\u5DE6\u5B50\u548C\u53F3\u5B50\u6743\u503C\u90FD\u5927\u4E8E\u7B49\u4E8E\u5B83\uFF08\u6216\u5C0F\u4E8E\u7B49\u4E8E\uFF09\u3002</p>
<p>\u6240\u4EE5\u4E8C\u53C9\u641C\u7D22\u6811\u4EFB\u610F\u4E00\u68F5\u5DE6\u53F3\u5B50\u6811\u4E5F\u90FD\u662F\u4E8C\u53C9\u641C\u7D22\u6811\u3002\u7279\u522B\u65E0\u804A\u5730\uFF0C\u7A7A\u6811\u4E5F\u662F\u4E8C\u53C9\u641C\u7D22\u6811\u3002</p>
<h2 id="\u5220\u9664\u7ED3\u70B9" tabindex="-1">\u5220\u9664\u7ED3\u70B9</h2>
<p>\u4E3A\u4E86\u7EF4\u62A4\u4E8C\u53C9\u641C\u7D22\u6811\u7684\u987A\u5E8F\u5173\u7CFB\uFF0C\u5220\u9664\u4E00\u4E2A\u7ED3\u70B9<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi></mrow><annotation encoding="application/x-tex">o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">o</span></span></span></span>\u4EE5\u540E\uFF0C\u8981\u7528\u5DE6\u5B50\u6811<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">L</span></span></span></span>\u6700\u5927\u7684\u7ED3\u70B9<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>l</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">l_{r}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">\u200B</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>\uFF08\u4E5F\u5C31\u662F<strong>\u6700\u53F3\u4E0B\u7684\u7ED3\u70B9</strong>\uFF09\u66FF\u6362<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi></mrow><annotation encoding="application/x-tex">o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">o</span></span></span></span>\u3002\u5982\u679C\u6CA1\u6709\u5DE6\u5B50\u6811\uFF0C\u4E5F\u5C31\u662F\u56FE b \u7684\u60C5\u51B5\uFF0C\u76F4\u63A5\u628A<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>\u53D8\u4E3A\u7236\u7ED3\u70B9<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span>\u7684\u5B50\u6811\u5373\u53EF\u3002</p>
<div style="display:flex;flex-wrap:wrap;">
<pre style="flex: 1 1;">
[a]
 p
  \\
   o
  / \\
 L   R
</pre>
&nbsp;
<pre style="flex: 1 1;">
[b]
 p
  \\
   o
    \\
     R  
</pre>
</div>
<pre><code class="language-python"><div class="shiki-container"><pre class="shiki shiki-dark" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic"># \u4E8C\u53C9\u641C\u7D22\u6811\u7C7B\u7684 delete \u65B9\u6CD5</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">def</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">delete</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B; font-style: italic">self</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66; font-style: italic">key</span><span style="color: #ABB2BF">):</span></span>
<span class="line"><span style="color: #ABB2BF">    current </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">self</span><span style="color: #ABB2BF">._root </span><span style="color: #7F848E; font-style: italic"># current \u6839\u7ED3\u70B9\uFF0C\u8BBE\u4E3A\u5F53\u524D\u7ED3\u70B9</span></span>
<span class="line"><span style="color: #ABB2BF">    fa </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">None</span><span style="color: #ABB2BF"> </span><span style="color: #7F848E; font-style: italic"># fa[ther] \u5F53\u524D\u7ED3\u70B9\u7684\u7236\u7ED3\u70B9</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    order </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">self</span><span style="color: #ABB2BF">.order </span><span style="color: #7F848E; font-style: italic"># \u5168\u5E8F\u5173\u7CFB\u51FD\u6570 order(a, b) -&gt; Bool\uFF0C\u4E8C\u53C9\u641C\u7D22\u6811\u6EE1\u8DB3 order(\u5DE6\u5B50\uFF0C\u81EA\u5DF1) == True</span></span>
<span class="line"><span style="color: #ABB2BF">    equal </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">self</span><span style="color: #ABB2BF">.equal </span><span style="color: #7F848E; font-style: italic"># \u76F8\u7B49\u5173\u7CFB\u51FD\u6570 equal(a, b) -&gt; Bool</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD; font-style: italic">while</span><span style="color: #ABB2BF"> current </span><span style="color: #56B6C2">!=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">None</span><span style="color: #ABB2BF">:</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD; font-style: italic">if</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">equal</span><span style="color: #ABB2BF">(key, current.key): </span><span style="color: #7F848E; font-style: italic"># \u5F53\u524D\u7ED3\u70B9\u5C31\u662F\u76EE\u6807\u7ED3\u70B9</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD; font-style: italic">if</span><span style="color: #ABB2BF"> current.lch </span><span style="color: #56B6C2">==</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">None</span><span style="color: #ABB2BF">: </span><span style="color: #7F848E; font-style: italic"># l[eft]ch[ild] \u5DE6\u5B50 \u5DE6\u5B50\u4E3A\u7A7A</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #C678DD; font-style: italic">if</span><span style="color: #ABB2BF"> fa </span><span style="color: #56B6C2">==</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">None</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">self</span><span style="color: #ABB2BF">._root </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> current.rch </span><span style="color: #7F848E; font-style: italic"># \u82E5\u8981\u5220\u9664\u7684\u662F\u6839\u7ED3\u70B9\uFF0C\u4E14\u6CA1\u6709\u5DE6\u5B50\u6811</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #C678DD; font-style: italic">elif</span><span style="color: #ABB2BF"> fa.lch </span><span style="color: #56B6C2">==</span><span style="color: #ABB2BF"> current: fa.lch </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> current.rch </span><span style="color: #7F848E; font-style: italic"># \u5F53\u524D\u662F\u7236\u7ED3\u70B9\u7684\u5DE6\u5B50\uFF0C\u7528\u5F53\u524D\u7684\u53F3\u5B50\u66FF\u6362\u5F53\u524D\u7ED3\u70B9</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #C678DD; font-style: italic">else</span><span style="color: #ABB2BF">: fa.rch </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> current.rch </span><span style="color: #7F848E; font-style: italic"># \u5F53\u524D\u662F\u7236\u7ED3\u70B9\u53F3\u5B50\uFF0C\u540C\u4E0A</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD; font-style: italic">else</span><span style="color: #ABB2BF">:</span></span>
<span class="line"><span style="color: #ABB2BF">                rightmost </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> current.lch </span><span style="color: #7F848E; font-style: italic"># rightmost \u5DE6\u5B50\u6811\u6700\u5927\u7ED3\u70B9\uFF0C\u521D\u59CB\u5316\u4E3A\u5DE6\u5B50</span></span>
<span class="line"><span style="color: #ABB2BF">                faRightmost </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> current </span><span style="color: #7F848E; font-style: italic"># fa[ther-of-]Rightmost \u5DE6\u5B50\u6811\u6700\u5927\u7ED3\u70B9\u7684\u7236\u7ED3\u70B9\uFF0C\u521D\u59CB\u5316\u4E3A\u5F53\u524D\u7ED3\u70B9</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #C678DD; font-style: italic">while</span><span style="color: #ABB2BF"> rightmost.rch </span><span style="color: #56B6C2">!=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">None</span><span style="color: #ABB2BF">: faRightmost, rightmost </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> rightmost, rightmost.rch</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #7F848E; font-style: italic"># \u5FAA\u73AF\u627E\u6700\u53F3\u4E0B\u7ED3\u70B9</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #C678DD; font-style: italic">if</span><span style="color: #ABB2BF"> faRightmost </span><span style="color: #56B6C2">==</span><span style="color: #ABB2BF"> current: faRightmost.lch </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> rightmost.lch </span><span style="color: #7F848E; font-style: italic"># \u5F53\u524D\u7ED3\u70B9\u5DE6\u5B50\u7684\u53F3\u5B50\u6811\u4E3A\u7A7A\uFF0C\u7528\u5DE6\u5B50\u7684\u5DE6\u5B50\u66FF\u4EE3\u5DE6\u5B50</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #C678DD; font-style: italic">else</span><span style="color: #ABB2BF">: faRightmost.rch </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> rightmost.lch </span><span style="color: #7F848E; font-style: italic"># \u6700\u5927\u7ED3\u70B9\u7528\u5DE6\u5B50\u66FF\u4EE3</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">                rightmost.lch </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> current.lch </span><span style="color: #7F848E; font-style: italic"># \u66FF\u6362\u6700\u53F3\u4E0B\u7ED3\u70B9\u7684\u5B50\u7ED3\u70B9\u5F15\u7528</span></span>
<span class="line"><span style="color: #ABB2BF">                rightmost.rch </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> current.rch</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #C678DD; font-style: italic">if</span><span style="color: #ABB2BF"> fa </span><span style="color: #56B6C2">==</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">None</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">self</span><span style="color: #ABB2BF">._root </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> rightmost </span><span style="color: #7F848E; font-style: italic"># \u82E5\u5F53\u524D\u7ED3\u70B9\u662F\u6839\u8282\u70B9\uFF0C\u4E0D\u7528\u6539\u53D8\u7236\u7684\u5B50\u7ED3\u70B9\u5F15\u7528</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #C678DD; font-style: italic">elif</span><span style="color: #ABB2BF"> fa.lch </span><span style="color: #56B6C2">==</span><span style="color: #ABB2BF"> current: fa.lch </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> rightmost </span><span style="color: #7F848E; font-style: italic"># \u66FF\u6362\u5F53\u524D\u7ED3\u70B9\u7236\u7ED3\u70B9\u7684\u5B50\u7ED3\u70B9\u5F15\u7528</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #C678DD; font-style: italic">else</span><span style="color: #ABB2BF">: fa.rch </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> rightmost</span></span>
<span class="line"><span style="color: #ABB2BF">                </span><span style="color: #7F848E; font-style: italic"># \u5DE6\u5B50\u6811\u4E0A\u6700\u5927\u7ED3\u70B9\u66FF\u4EE3\u5F53\u524D\u7ED3\u70B9</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD; font-style: italic">del</span><span style="color: #ABB2BF"> current </span><span style="color: #7F848E; font-style: italic"># \u5220\u9664\u5F53\u524D\u7ED3\u70B9</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #C678DD; font-style: italic">return</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD; font-style: italic">elif</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">order</span><span style="color: #ABB2BF">(key, current.key): fa, current </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> current, current.lch </span><span style="color: #7F848E; font-style: italic"># \u627E\u76EE\u6807\u7ED3\u70B9</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #C678DD; font-style: italic">else</span><span style="color: #ABB2BF">: fa, current </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> current, current.rch</span></span>
<span class="line"></span></code></pre><pre class="shiki shiki-light" style="background-color: #ffffff"><code><span class="line"><span style="color: #6E7781"># \u4E8C\u53C9\u641C\u7D22\u6811\u7C7B\u7684 delete \u65B9\u6CD5</span></span>
<span class="line"></span>
<span class="line"><span style="color: #CF222E">def</span><span style="color: #24292F"> </span><span style="color: #8250DF">delete</span><span style="color: #24292F">(self, key):</span></span>
<span class="line"><span style="color: #24292F">    current </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #0550AE">self</span><span style="color: #24292F">._root </span><span style="color: #6E7781"># current \u6839\u7ED3\u70B9\uFF0C\u8BBE\u4E3A\u5F53\u524D\u7ED3\u70B9</span></span>
<span class="line"><span style="color: #24292F">    fa </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #0550AE">None</span><span style="color: #24292F"> </span><span style="color: #6E7781"># fa[ther] \u5F53\u524D\u7ED3\u70B9\u7684\u7236\u7ED3\u70B9</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">    order </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #0550AE">self</span><span style="color: #24292F">.order </span><span style="color: #6E7781"># \u5168\u5E8F\u5173\u7CFB\u51FD\u6570 order(a, b) -&gt; Bool\uFF0C\u4E8C\u53C9\u641C\u7D22\u6811\u6EE1\u8DB3 order(\u5DE6\u5B50\uFF0C\u81EA\u5DF1) == True</span></span>
<span class="line"><span style="color: #24292F">    equal </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #0550AE">self</span><span style="color: #24292F">.equal </span><span style="color: #6E7781"># \u76F8\u7B49\u5173\u7CFB\u51FD\u6570 equal(a, b) -&gt; Bool</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">    </span><span style="color: #CF222E">while</span><span style="color: #24292F"> current </span><span style="color: #CF222E">!=</span><span style="color: #24292F"> </span><span style="color: #0550AE">None</span><span style="color: #24292F">:</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">if</span><span style="color: #24292F"> equal(key, current.key): </span><span style="color: #6E7781"># \u5F53\u524D\u7ED3\u70B9\u5C31\u662F\u76EE\u6807\u7ED3\u70B9</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #CF222E">if</span><span style="color: #24292F"> current.lch </span><span style="color: #CF222E">==</span><span style="color: #24292F"> </span><span style="color: #0550AE">None</span><span style="color: #24292F">: </span><span style="color: #6E7781"># l[eft]ch[ild] \u5DE6\u5B50 \u5DE6\u5B50\u4E3A\u7A7A</span></span>
<span class="line"><span style="color: #24292F">                </span><span style="color: #CF222E">if</span><span style="color: #24292F"> fa </span><span style="color: #CF222E">==</span><span style="color: #24292F"> </span><span style="color: #0550AE">None</span><span style="color: #24292F">: </span><span style="color: #0550AE">self</span><span style="color: #24292F">._root </span><span style="color: #CF222E">=</span><span style="color: #24292F"> current.rch </span><span style="color: #6E7781"># \u82E5\u8981\u5220\u9664\u7684\u662F\u6839\u7ED3\u70B9\uFF0C\u4E14\u6CA1\u6709\u5DE6\u5B50\u6811</span></span>
<span class="line"><span style="color: #24292F">                </span><span style="color: #CF222E">elif</span><span style="color: #24292F"> fa.lch </span><span style="color: #CF222E">==</span><span style="color: #24292F"> current: fa.lch </span><span style="color: #CF222E">=</span><span style="color: #24292F"> current.rch </span><span style="color: #6E7781"># \u5F53\u524D\u662F\u7236\u7ED3\u70B9\u7684\u5DE6\u5B50\uFF0C\u7528\u5F53\u524D\u7684\u53F3\u5B50\u66FF\u6362\u5F53\u524D\u7ED3\u70B9</span></span>
<span class="line"><span style="color: #24292F">                </span><span style="color: #CF222E">else</span><span style="color: #24292F">: fa.rch </span><span style="color: #CF222E">=</span><span style="color: #24292F"> current.rch </span><span style="color: #6E7781"># \u5F53\u524D\u662F\u7236\u7ED3\u70B9\u53F3\u5B50\uFF0C\u540C\u4E0A</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #CF222E">else</span><span style="color: #24292F">:</span></span>
<span class="line"><span style="color: #24292F">                rightmost </span><span style="color: #CF222E">=</span><span style="color: #24292F"> current.lch </span><span style="color: #6E7781"># rightmost \u5DE6\u5B50\u6811\u6700\u5927\u7ED3\u70B9\uFF0C\u521D\u59CB\u5316\u4E3A\u5DE6\u5B50</span></span>
<span class="line"><span style="color: #24292F">                faRightmost </span><span style="color: #CF222E">=</span><span style="color: #24292F"> current </span><span style="color: #6E7781"># fa[ther-of-]Rightmost \u5DE6\u5B50\u6811\u6700\u5927\u7ED3\u70B9\u7684\u7236\u7ED3\u70B9\uFF0C\u521D\u59CB\u5316\u4E3A\u5F53\u524D\u7ED3\u70B9</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">                </span><span style="color: #CF222E">while</span><span style="color: #24292F"> rightmost.rch </span><span style="color: #CF222E">!=</span><span style="color: #24292F"> </span><span style="color: #0550AE">None</span><span style="color: #24292F">: faRightmost, rightmost </span><span style="color: #CF222E">=</span><span style="color: #24292F"> rightmost, rightmost.rch</span></span>
<span class="line"><span style="color: #24292F">                </span><span style="color: #6E7781"># \u5FAA\u73AF\u627E\u6700\u53F3\u4E0B\u7ED3\u70B9</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">                </span><span style="color: #CF222E">if</span><span style="color: #24292F"> faRightmost </span><span style="color: #CF222E">==</span><span style="color: #24292F"> current: faRightmost.lch </span><span style="color: #CF222E">=</span><span style="color: #24292F"> rightmost.lch </span><span style="color: #6E7781"># \u5F53\u524D\u7ED3\u70B9\u5DE6\u5B50\u7684\u53F3\u5B50\u6811\u4E3A\u7A7A\uFF0C\u7528\u5DE6\u5B50\u7684\u5DE6\u5B50\u66FF\u4EE3\u5DE6\u5B50</span></span>
<span class="line"><span style="color: #24292F">                </span><span style="color: #CF222E">else</span><span style="color: #24292F">: faRightmost.rch </span><span style="color: #CF222E">=</span><span style="color: #24292F"> rightmost.lch </span><span style="color: #6E7781"># \u6700\u5927\u7ED3\u70B9\u7528\u5DE6\u5B50\u66FF\u4EE3</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">                rightmost.lch </span><span style="color: #CF222E">=</span><span style="color: #24292F"> current.lch </span><span style="color: #6E7781"># \u66FF\u6362\u6700\u53F3\u4E0B\u7ED3\u70B9\u7684\u5B50\u7ED3\u70B9\u5F15\u7528</span></span>
<span class="line"><span style="color: #24292F">                rightmost.rch </span><span style="color: #CF222E">=</span><span style="color: #24292F"> current.rch</span></span>
<span class="line"><span style="color: #24292F">                </span><span style="color: #CF222E">if</span><span style="color: #24292F"> fa </span><span style="color: #CF222E">==</span><span style="color: #24292F"> </span><span style="color: #0550AE">None</span><span style="color: #24292F">: </span><span style="color: #0550AE">self</span><span style="color: #24292F">._root </span><span style="color: #CF222E">=</span><span style="color: #24292F"> rightmost </span><span style="color: #6E7781"># \u82E5\u5F53\u524D\u7ED3\u70B9\u662F\u6839\u8282\u70B9\uFF0C\u4E0D\u7528\u6539\u53D8\u7236\u7684\u5B50\u7ED3\u70B9\u5F15\u7528</span></span>
<span class="line"><span style="color: #24292F">                </span><span style="color: #CF222E">elif</span><span style="color: #24292F"> fa.lch </span><span style="color: #CF222E">==</span><span style="color: #24292F"> current: fa.lch </span><span style="color: #CF222E">=</span><span style="color: #24292F"> rightmost </span><span style="color: #6E7781"># \u66FF\u6362\u5F53\u524D\u7ED3\u70B9\u7236\u7ED3\u70B9\u7684\u5B50\u7ED3\u70B9\u5F15\u7528</span></span>
<span class="line"><span style="color: #24292F">                </span><span style="color: #CF222E">else</span><span style="color: #24292F">: fa.rch </span><span style="color: #CF222E">=</span><span style="color: #24292F"> rightmost</span></span>
<span class="line"><span style="color: #24292F">                </span><span style="color: #6E7781"># \u5DE6\u5B50\u6811\u4E0A\u6700\u5927\u7ED3\u70B9\u66FF\u4EE3\u5F53\u524D\u7ED3\u70B9</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #CF222E">del</span><span style="color: #24292F"> current </span><span style="color: #6E7781"># \u5220\u9664\u5F53\u524D\u7ED3\u70B9</span></span>
<span class="line"><span style="color: #24292F">            </span><span style="color: #CF222E">return</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">elif</span><span style="color: #24292F"> order(key, current.key): fa, current </span><span style="color: #CF222E">=</span><span style="color: #24292F"> current, current.lch </span><span style="color: #6E7781"># \u627E\u76EE\u6807\u7ED3\u70B9</span></span>
<span class="line"><span style="color: #24292F">        </span><span style="color: #CF222E">else</span><span style="color: #24292F">: fa, current </span><span style="color: #CF222E">=</span><span style="color: #24292F"> current, current.rch</span></span>
<span class="line"></span></code></pre></div></code></pre>
<h2 id="\u65CB\u8F6C" tabindex="-1">\u65CB\u8F6C</h2>
<p>\u8BFE\u7A0B\u91CC\u6CA1\u6709\u63D0\u53CA\u65CB\u8F6C\u7684\u6982\u5FF5\u3002\u540E\u6765\u4E00\u4F4D\u524D OIer \u670B\u53CB\uFF08<a href="https://www.cnblogs.com/FYH-SSGSS/" target="_blank" rel="noopener">@FYH</a>\uFF09\u7ED9\u6211\u79D1\u666E\uFF0C\u4EE5\u4E0A\u5220\u9664\u7ED3\u70B9\u7684\u64CD\u4F5C\u5176\u5B9E\u6D89\u53CA\u5230\u4E86\u65CB\u8F6C\u3002</p>
<p>\u5BF9\u4E8E\u4EE5\u4E0B\u4E24\u68F5\u4E8C\u53C9\u641C\u7D22\u6811\uFF1A</p>
<div style="display:flex;flex-wrap:wrap;">
<pre style="flex: 1 1;">
[a]
    3*
   / \\
  2   4
 /     \\
1       5
</pre>
&nbsp;
<pre style="flex: 1 1;">
[b]
 1
  \\   
   2
    \\
     3*
      \\
       4
        \\
         5
</pre>
</div>
<p>\u5B58\u50A8\u7684\u6570\u636E\u662F\u5B8C\u5168\u76F8\u540C\u7684\uFF0C\u4F46\u662F\u6811 a \u4E2D\u641C\u7D22\u7684\u6700\u574F\u65F6\u95F4\u590D\u6742\u5EA6\u8FBE\u5230<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>\u2061</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>\uFF0C\u6811 b \u4E2D\u641C\u7D22\u5219\u8FBE\u5230\u4E86<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>\u3002\u4E8C\u53C9\u6811\u6784\u9020\u5F97\u8D8A\u201C\u5E73\u8861\u201D\uFF0C\u5728\u5176\u4E0A\u8FDB\u884C\u64CD\u4F5C\u7684\u6027\u80FD\u5C31\u8D8A\u597D\u3002\u4E3A\u4E86\u4F7F b \u53D8\u5F97\u66F4\u5E73\u8861\uFF0C\u53EF\u4EE5\u4EE5\u6807 <code>*</code> \u7684 3 \u53F7\u7ED3\u70B9\u4E3A\u65B0\u7684\u6839\u7ED3\u70B9\uFF0C\u5C06\u5B83\u7684\u7956\u5148\u7ED3\u70B9<strong>\u65CB\u8F6C</strong>\u4E3A\u5B83\u7684\u5DE6\u5B50\u6811\uFF0C\u53D8\u6210\u6811 a\u3002</p>
<p>\u540C\u6837\u5730\uFF0C\u4E8C\u53C9\u641C\u7D22\u6811\u5220\u9664\u7ED3\u70B9\u64CD\u4F5C\u4E5F\u53EF\u4EE5\u89C6\u4E3A\u4EE5\u5F85\u5220\u9664\u7ED3\u70B9\u5DE6\u5B50\u6811\u7684\u6700\u5927\u7ED3\u70B9\u4E3A\u4E2D\u5FC3\uFF0C\u5C06\u5F85\u5220\u9664\u7ED3\u70B9\u7684\u5DE6\u5B50\u6811\u65CB\u8F6C\u4E3A\u5B83\u7684\u5DE6\u5B50\u6811\uFF0C\u518D\u5C06\u5F85\u5220\u9664\u7ED3\u70B9\u7684\u53F3\u5B50\u6811\u63A5\u5728\u65CB\u8F6C\u7684\u4E2D\u5FC3\u4E0A\u3002</p>
<h2 id="\u53C2\u8003\u8D44\u6599" tabindex="-1">\u53C2\u8003\u8D44\u6599</h2>
<ul>
<li>OI Wiki\uFF0C<a href="https://oi-wiki.org/ds/bst/" target="_blank" rel="noopener">\u4E8C\u53C9\u641C\u7D22\u6811</a></li>
<li>\u88D8\u5B97\u71D5\uFF0C\u6570\u636E\u7ED3\u6784\u4E0E\u7B97\u6CD5\uFF1APython \u8BED\u8A00\u63CF\u8FF0\uFF0C2018</li>
</ul>
</div>`})}}};export{m as category,B as date,g as default,F as keywords,f as math,h as tags,y as title};
