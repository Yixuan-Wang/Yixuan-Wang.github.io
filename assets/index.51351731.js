function b(){}function L(t){return t()}function O(){return Object.create(null)}function $(t){t.forEach(L)}function P(t){return typeof t=="function"}function Q(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function U(t){return Object.keys(t).length===0}function y(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function h(t){t.parentNode.removeChild(t)}function x(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function k(t){return document.createTextNode(t)}function W(){return k(" ")}function R(){return k("")}function _(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function X(t){return Array.from(t.childNodes)}function A(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function g(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Y(t){const e={};for(const n of t)e[n.name]=n.value;return e}let z;function v(t){z=t}const w=[],B=[],C=[],G=[],ee=Promise.resolve();let M=!1;function te(){M||(M=!0,ee.then(p))}function N(t){C.push(t)}const T=new Set;let j=0;function p(){const t=z;do{for(;j<w.length;){const e=w[j];j++,v(e),ne(e.$$)}for(v(null),w.length=0,j=0;B.length;)B.pop()();for(let e=0;e<C.length;e+=1){const n=C[e];T.has(n)||(T.add(n),n())}C.length=0}while(w.length);for(;G.length;)G.pop()();M=!1,T.clear(),v(t)}function ne(t){if(t.fragment!==null){t.update(),$(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const le=new Set;function ie(t,e){t&&t.i&&(le.delete(t),t.i(e))}function re(t,e,n,r){const{fragment:i,on_mount:l,on_destroy:a,after_update:s}=t.$$;i&&i.m(e,n),r||N(()=>{const c=l.map(L).filter(P);a?a.push(...c):$(c),t.$$.on_mount=[]}),s.forEach(N)}function ae(t,e){const n=t.$$;n.fragment!==null&&($(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function se(t,e){t.$$.dirty[0]===-1&&(w.push(t),te(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function oe(t,e,n,r,i,l,a,s=[-1]){const c=z;v(t);const o=t.$$={fragment:null,ctx:null,props:l,update:b,not_equal:i,bound:O(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:O(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};a&&a(o.root);let u=!1;if(o.ctx=n?n(t,e.props||{},(f,E,...S)=>{const H=S.length?S[0]:E;return o.ctx&&i(o.ctx[f],o.ctx[f]=H)&&(!o.skip_bound&&o.bound[f]&&o.bound[f](H),u&&se(t,f)),E}):[],o.update(),u=!0,$(o.before_update),o.fragment=r?r(o.ctx):!1,e.target){if(e.hydrate){const f=X(e.target);o.fragment&&o.fragment.l(f),f.forEach(h)}else o.fragment&&o.fragment.c();e.intro&&ie(t.$$.fragment),re(t,e.target,e.anchor,e.customElement),p()}v(c)}let V;typeof HTMLElement=="function"&&(V=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(L).filter(P);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){$(this.$$.on_disconnect)}$destroy(){ae(this,1),this.$destroy=b}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const r=n.indexOf(e);r!==-1&&n.splice(r,1)}}$set(t){this.$$set&&!U(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});function Z(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function q(t,e,n){const r=t.slice();return r[9]=e[n],r}function D(t,e,n){const r=t.slice();return r[12]=e[n],r}function ce(t){let e,n=t[9]+"",r,i;return{c(){var l;e=m("span"),r=k(n),_(e,"lang",i=(l=t[2][t[8]])!=null?l:""),g(e,"grid-row-start",`${t[8]+1}`,!1)},m(l,a){d(l,e,a),y(e,r)},p(l,a){var s;a&2&&n!==(n=l[9]+"")&&A(r,n),a&4&&i!==(i=(s=l[2][l[8]])!=null?s:"")&&_(e,"lang",i)},d(l){l&&h(e)}}}function fe(t){let e,n,r,i=K(t[9]),l=[];for(let a=0;a<i.length;a+=1)l[a]=F(D(t,i,a));return{c(){var a;e=m("span");for(let s=0;s<l.length;s+=1)l[s].c();n=W(),_(e,"lang",r=(a=t[2][t[8]])!=null?a:""),g(e,"grid-row-start",`${t[8]+1}`,!1)},m(a,s){d(a,e,s);for(let c=0;c<l.length;c+=1)l[c].m(e,null);y(e,n)},p(a,s){var c;if(s&2){i=K(a[9]);let o;for(o=0;o<i.length;o+=1){const u=D(a,i,o);l[o]?l[o].p(u,s):(l[o]=F(u),l[o].c(),l[o].m(e,n))}for(;o<l.length;o+=1)l[o].d(1);l.length=i.length}s&4&&r!==(r=(c=a[2][a[8]])!=null?c:"")&&_(e,"lang",r)},d(a){a&&h(e),x(l,a)}}}function ue(t){let e,n=t[9]+"",r,i;return{c(){var l;e=m("span"),r=k(n),_(e,"lang",i=(l=t[2][t[8]])!=null?l:""),g(e,"grid-row-start",`${t[8]+1}`,!1),g(e,"grid-column",`1/span ${t[1].maxLength}`,!1)},m(l,a){d(l,e,a),y(e,r)},p(l,a){var s;a&2&&n!==(n=l[9]+"")&&A(r,n),a&4&&i!==(i=(s=l[2][l[8]])!=null?s:"")&&_(e,"lang",i),a&2&&g(e,"grid-column",`1/span ${l[1].maxLength}`,!1)},d(l){l&&h(e)}}}function F(t){let e,n=t[12].value+"",r;return{c(){e=m("span"),r=k(n),g(e,"font-variant-caps",t[12].label?"all-small-caps":"initial",!1)},m(i,l){d(i,e,l),y(e,r)},p(i,l){l&2&&n!==(n=i[12].value+"")&&A(r,n),l&2&&g(e,"font-variant-caps",i[12].label?"all-small-caps":"initial",!1)},d(i){i&&h(e)}}}function I(t){let e;function n(l,a){return l[0][l[8]]==="#"?ue:l[0][l[8]]===":"?fe:ce}let r=n(t),i=r(t);return{c(){i.c(),e=R()},m(l,a){i.m(l,a),d(l,e,a)},p(l,a){r===(r=n(l))&&i?i.p(l,a):(i.d(1),i=r(l),i&&(i.c(),i.m(e.parentNode,e)))},d(l){i.d(l),l&&h(e)}}}function J(t){let e,n=t[6],r=[];for(let i=0;i<n.length;i+=1)r[i]=I(q(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=R()},m(i,l){for(let a=0;a<r.length;a+=1)r[a].m(i,l);d(i,e,l)},p(i,l){if(l&7){n=i[6];let a;for(a=0;a<n.length;a+=1){const s=q(i,n,a);r[a]?r[a].p(s,l):(r[a]=I(s),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(i){x(r,i),i&&h(e)}}}function de(t){let e,n,r=t[1].lines,i=[];for(let l=0;l<r.length;l+=1)i[l]=J(Z(t,r,l));return{c(){e=m("div"),n=m("div");for(let l=0;l<i.length;l+=1)i[l].c();this.c=b,_(n,"class","leipzig"),_(e,"class","leipzig-container")},m(l,a){d(l,e,a),y(e,n);for(let s=0;s<i.length;s+=1)i[s].m(n,null)},p(l,[a]){if(a&7){r=l[1].lines;let s;for(s=0;s<r.length;s+=1){const c=Z(l,r,s);i[s]?i[s].p(c,a):(i[s]=J(c),i[s].c(),i[s].m(n,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},i:b,o:b,d(l){l&&h(e),x(i,l)}}}function K(t){return t.split(/([\-\.=_;:\\>~\[\]\(\)<>])/).map(n=>"-.=_;:\\>~[]()<>".includes(n)?{value:n}:n.match(/^\d?[A-Z]+$/)?{label:!0,value:n}:{value:n})}function he(t,e,n){let{def:r=".:#"}=e,{data:i}=e,{lang:l=""}=e;function a(o){if(!o)return{maxLength:0,lines:[]};const u=o.trim().split(/\n\s*/).map((f,E)=>(f=f.trim(),r[E]==="#"?[f]:f.split(" ")));return{maxLength:Math.max(...u.map(f=>f.length)),lines:u}}let s,c;return s=a(i),c=l.split(","),t.$$set=o=>{"def"in o&&n(0,r=o.def),"data"in o&&n(3,i=o.data),"lang"in o&&n(4,l=o.lang)},[r,s,c,i,l]}class _e extends V{constructor(e){super();this.shadowRoot.innerHTML="<style>.leipzig{display:grid;column-gap:1em;overflow-x:auto;justify-content:start;justify-items:left}</style>",oe(this,{target:this.shadowRoot,props:Y(this.attributes),customElement:!0},he,de,Q,{def:0,data:3,lang:4},null),e&&(e.target&&d(e.target,this,e.anchor),e.props&&(this.$set(e.props),p()))}static get observedAttributes(){return["def","data","lang"]}get def(){return this.$$.ctx[0]}set def(e){this.$$set({def:e}),p()}get data(){return this.$$.ctx[3]}set data(e){this.$$set({data:e}),p()}get lang(){return this.$$.ctx[4]}set lang(e){this.$$set({lang:e}),p()}}customElements.define("leipzig-gloss",_e);export{_e as default};
