{"componentChunkName":"component---src-templates-post-js","path":"/posts/tailwindcss-tentative","result":{"data":{"markdownRemark":{"html":"<p>Tailwind CSS 从真香到放弃的个人经历。</p>\n<!-- more -->\n<h2 id=\"Tailwind-CSS-简介\">Tailwind CSS 简介</h2>\n<p><a href=\"https://tailwindcss.com/\">Tailwind CSS</a> 是一个 CSS 框架，通过类名实现近似内联样式（inline style）但更方便快捷的网页样式编写体验。一段示例代码：</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #81A1C1\">&lt;header</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #8FBCBB\">className</span><span style=\"color: #ECEFF4\">=</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #A3BE8C\">flex justify-between items-center h-16 md:h-20 text-purple-600</span><span style=\"color: #ECEFF4\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #616E88\">&lt;!-- ... --&gt;</span></span>\n<span class=\"line\"><span style=\"color: #81A1C1\">&lt;/header&gt;</span></span></code></pre>\n<p>等于如下的 CSS：</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #ECEFF4\">.</span><span style=\"color: #8FBCBB\">this-header</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">display</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">flex;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">justify-content</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">space-between;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">align-items</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">center;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">height</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">4</span><span style=\"color: #81A1C1\">rem;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  --tw-text-opacity</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">1</span><span style=\"color: #81A1C1\">;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">color</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">rgba</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #B48EAD\">124</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #88C0D0\"> </span><span style=\"color: #B48EAD\">58</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #88C0D0\"> </span><span style=\"color: #B48EAD\">237</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #88C0D0\"> var</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #88C0D0\">--tw-text-opacity</span><span style=\"color: #ECEFF4\">))</span><span style=\"color: #81A1C1\">;</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">}</span></span>\n\n<span class=\"line\"><span style=\"color: #D08770\">@media</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">min-width</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">768</span><span style=\"color: #81A1C1\">px</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #8FBCBB\">this-header</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">height</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">5</span><span style=\"color: #81A1C1\">rem;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #ECEFF4\">}</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">}</span></span></code></pre>\n<h2 id=\"关注点分离\">关注点分离</h2>\n<blockquote>\n<p>TL;DR | Tailwind CSS <strong>值得一试</strong>，但它显然也<strong>不是万金油</strong>。</p>\n</blockquote>\n<p>Tailwind CSS 的创始人 Adam Wathan 曾经写过一篇<a href=\"https://adamwathan.me/css-utility-classes-and-separation-of-concerns/\">文章</a>探讨“语义化 CSS 类名”（semantic classes）以及各种传统 CSS 最佳实践的弊端——这有一定的道理。尽管前端三件套的“关注点分离”思想让编写用户界面的体验得到了跨越式的提升，但这三部分最终还是要协同工作的，因此<strong>耦合是不可避免的</strong>。所以，“关注点分离”其实没有那么绝对。<del>既然能接受 JSX，当然也可以把 CSS 混进去了！</del></p>\n<p>Tailwind CSS 在官网上直接呼吁：</p>\n<blockquote>\n<p>尽可能忍住干呕的冲动来尝试一下，你会<strong>真香</strong>并抛弃其他 CSS 实践的。</p>\n<p>“If you can suppress the urge to retch long enough to give it a chance, I really think you’ll wonder how you ever worked with CSS any other way.”</p>\n</blockquote>\n<p>Tailwind 已经比较完善了，截至写作时有 36k 星星，因此值得抛弃对“关注点分离”的坚守，去亲自尝试一下。但最终会不会真香呢？我尝试了一下，确实香，但还是有些不便之处的。</p>\n<h2 id=\"优点\">优点</h2>\n<p>虽然 Tailwind CSS 看起来<del>只是把内联样式从 style 属性移到了 class 属性并且换成了各种花式简写</del>，但它实际上<strong>比直接内联样式好得多</strong>。有了简写，HTML 标签不会像内联样式那么臃肿，而且用 JS 框架调整也更方便简洁。尤其是简化到极致的断点语法 <code>{breakpoint-type}:{style}</code> 和暗黑模式语法 <code>dark:{style}</code>，比手写媒体查询要爽得多。</p>\n<p>它开箱自带<strong>彻底的样式重置</strong>，因此对样式拥有完全的掌控权。这一点也比较舒服。</p>\n<p>Tailwind 覆盖的 CSS 样式非常广，官网的文档也写得非常详细，上手还是比较快的。比如，它对长度值<code>&#x3C;length></code> 有着丰富的支持：</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #ECEFF4\">.</span><span style=\"color: #8FBCBB\">whatever</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #616E88\">/* w-4      */</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">width</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">1</span><span style=\"color: #81A1C1\">rem;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #616E88\">/* w-auto   */</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">width</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">auto;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #616E88\">/* w-px     */</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">width</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">1</span><span style=\"color: #81A1C1\">px;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #616E88\">/* w-1/3    */</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">width</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">33.333333</span><span style=\"color: #81A1C1\">%;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #616E88\">/* w-screen */</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">width</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">100</span><span style=\"color: #81A1C1\">vw;</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">}</span></span></code></pre>\n<p>它也支持按需打包（treeshaking）。</p>\n<p>另外，通过 PostCSS 转译，它也支持组件复用：</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #ECEFF4\">.</span><span style=\"color: #8FBCBB\">btn</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  @apply px-4 py-5 text-white font-semibold</span><span style=\"color: #81A1C1\">;</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">}</span></span></code></pre>\n<h2 id=\"缺点\">缺点</h2>\n<p>尽管 Tailwind 覆盖的属性已经非常广了，但它也不可能穷尽所有的值，因此<strong>有时需要手动填写配置文件</strong>，如果你本身就喜欢玩各种 CSS 花样，大规模填写配置文件是个很痛苦的工程。</p>\n<p>比如说，需要使用一些 flex 或者 grid 布局，比如<a href=\"http://www.ruanyifeng.com/blog/2020/08/five-css-layouts-in-one-line.html\">这篇文章</a>中介绍的三明治布局：</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #ECEFF4\">.</span><span style=\"color: #8FBCBB\">container</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">display</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">grid;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">grid-template-rows</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">auto</span><span style=\"color: #88C0D0\"> </span><span style=\"color: #B48EAD\">1</span><span style=\"color: #81A1C1\">fr</span><span style=\"color: #88C0D0\"> </span><span style=\"color: #81A1C1\">auto;</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">}</span></span></code></pre>\n<p>就需要填配置文件：</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #8FBCBB\">module</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #8FBCBB\">exports</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #88C0D0\">theme</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #88C0D0\">extend</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">      </span><span style=\"color: #88C0D0\">gridTemplateRows</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">        </span><span style=\"color: #88C0D0\">sandwich</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">&#39;</span><span style=\"color: #A3BE8C\">auto 1fr auto</span><span style=\"color: #ECEFF4\">&#39;</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #616E88\">// grid-rows-sandwich</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">      </span><span style=\"color: #ECEFF4\">},</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #ECEFF4\">},</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #ECEFF4\">},</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span></span></code></pre>\n<p>这时候就产生了非标准的类名。一旦配置多起来，原本 Tailwind 易修改且不损失太多可读性的优势就荡然无存了。</p>\n<p>此外，Tailwind 的模式显然对各式 CSS 选择器的兼容性很差。要使用伪类修饰符 <code>{pseudo-class}:{style}</code> ，除了一小部分预置的样式，使用其他样式或不那么常用的伪类（<code>:first-child</code>）都需要填配置文件。一些伪类如 <code>:not</code> 则不支持，对伪元素的支持更是没有，若要使用，还得再额外写 CSS 文件。</p>\n<p>最后，即使有缩写，超长的 HTML class 属性确实有碍观瞻，如果提取成组件写进 CSS 文件，一大长串的<code>@apply</code> 可读性或许还不如直接写 CSS。</p>\n<h2 id=\"总结\">总结</h2>\n<p>如果你是内联样式的爱好者，那 Tailwind 应该很适合你。如果你是关注点分离原教旨主义者，也可以考虑仔细读一读创始人的文章，试一把 Tailwind 看看。不过，Tailwind 虽然已经比较香了，但确实离官方宣传的万金油还差着不少。</p>","frontmatter":{"title":"Tailwind CSS 初探","date":"2021/02/04","category":"信息","tags":["工具"],"keywords":["CSS"]},"fields":{"modifiedTime":"2021/11/11"}}},"pageContext":{"slug":"posts/tailwindcss-tentative","quarter":"posts"}},"staticQueryHashes":["2243046057","63159454"]}